<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4e73df;
            --secondary-color: #224abe;
            --success-color: #1cc88a;
            --light-bg: #f8f9fc;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .auth-container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            width: 100%;
            max-width: 450px;
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .auth-title {
            color: var(--primary-color);
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .auth-icon {
            display: block;
            text-align: center;
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .form-label {
            font-weight: 600;
            color: #4a4a4a;
        }
        
        .btn-auth {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border: none;
            width: 100%;
            padding: 12px;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .auth-switch {
            text-align: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #e3e6f0;
        }
        
        .auth-switch a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
        }
        
        .auth-switch a:hover {
            text-decoration: underline;
        }
        
        .error-message {
            color: #e74a3b;
            font-size: 0.875rem;
            margin-top: 5px;
        }
        
        .input-error {
            border-color: #e74a3b;
        }
        
        .success-message {
            color: var(--success-color);
            font-weight: 600;
            text-align: center;
            margin-top: 15px;
            padding: 10px;
            background-color: rgba(28, 200, 138, 0.1);
            border-radius: 5px;
        }
        
        .password-toggle {
            cursor: pointer;
            position: absolute;
            right: 10px;
            top: 38px;
            color: #b7b9cc;
        }
    </style>
</head>
<body>
    <div class="auth-container" id="login-container">
        <div class="auth-icon">üîê</div>
        <div class="auth-header">
            <h2 class="auth-title">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
            <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞</p>
        </div>
        
        <form id="login-form">
            <div class="mb-3">
                <label for="loginUsername" class="form-label">Email –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                <input type="text" class="form-control" id="loginUsername" name="Username" required>
                <div class="error-message" id="loginUsername-error"></div>
            </div>
            
            <div class="mb-3 position-relative">
                <label for="loginPassword" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                <input type="password" class="form-control" id="loginPassword" name="Password" required>
                <span class="password-toggle" onclick="togglePassword('loginPassword')">üëÅÔ∏è</span>
                <div class="error-message" id="loginPassword-error"></div>
            </div>
            
            <button type="submit" class="btn btn-primary btn-auth">–í–æ–π—Ç–∏</button>
        </form>
        
        <div class="auth-switch">
            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showRegister()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </div>
        
        <div class="success-message" id="login-success" style="display: none;">
            –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!
        </div>
    </div>
    
    <div class="auth-container" id="register-container" style="display: none;">
        <div class="auth-icon">üìù</div>
        <div class="auth-header">
            <h2 class="auth-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <p>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å</p>
        </div>
        
        <form id="register-form">
            <div class="mb-3">
                <label for="regUsername" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                <input type="text" class="form-control" id="regUsername" name="Username" required minlength="3">
                <div class="error-message" id="regUsername-error"></div>
            </div>
            
            <div class="mb-3">
                <label for="regEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="regEmail" name="Email" required>
                <div class="error-message" id="regEmail-error"></div>
            </div>
            
            <div class="mb-3 position-relative">
                <label for="regPassword" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                <input type="password" class="form-control" id="regPassword" name="Password" required minlength="6">
                <span class="password-toggle" onclick="togglePassword('regPassword')">üëÅÔ∏è</span>
                <div class="error-message" id="regPassword-error"></div>
            </div>
            
            <div class="mb-3 position-relative">
                <label for="regConfirmPassword" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
                <input type="password" class="form-control" id="regConfirmPassword" name="ConfirmPassword" required>
                <span class="password-toggle" onclick="togglePassword('regConfirmPassword')">üëÅÔ∏è</span>
                <div class="error-message" id="regConfirmPassword-error"></div>
            </div>
            
            <button type="submit" class="btn btn-primary btn-auth">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
        
        <div class="auth-switch">
            –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showLogin()">–í–æ–π—Ç–∏</a>
        </div>
        
        <div class="success-message" id="register-success" style="display: none;">
            –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ñ–æ—Ä–º–∞–º–∏
        function showRegister() {
            document.getElementById('login-container').style.display = 'none';
            document.getElementById('register-container').style.display = 'block';
            resetForms();
        }
        
        function showLogin() {
            document.getElementById('register-container').style.display = 'none';
            document.getElementById('login-container').style.display = 'block';
            resetForms();
        }
        
        function resetForms() {
            document.getElementById('login-form').reset();
            document.getElementById('register-form').reset();
            document.getElementById('login-success').style.display = 'none';
            document.getElementById('register-success').style.display = 'none';
            
            // –û—á–∏—Å—Ç–∫–∞ –æ—à–∏–±–æ–∫
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(el => el.textContent = '');
            
            const inputElements = document.querySelectorAll('.form-control');
            inputElements.forEach(el => el.classList.remove('input-error'));
        }
        
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            if (input.type === 'password') {
                input.type = 'text';
            } else {
                input.type = 'password';
            }
        }
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            let isValid = true;
            const username = document.getElementById('loginUsername');
            const password = document.getElementById('loginPassword');
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—à–∏–±–æ–∫
            document.getElementById('loginUsername-error').textContent = '';
            document.getElementById('loginPassword-error').textContent = '';
            username.classList.remove('input-error');
            password.classList.remove('input-error');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (!username.value.trim()) {
                document.getElementById('loginUsername-error').textContent = '–í–≤–µ–¥–∏—Ç–µ email –∏–ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
                username.classList.add('input-error');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
            if (!password.value) {
                document.getElementById('loginPassword-error').textContent = '–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å';
                password.classList.add('input-error');
                isValid = false;
            }
            
            if (isValid) {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã AJAX-–∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
                document.getElementById('login-success').style.display = 'block';
            }
        });
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        document.getElementById('register-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            let isValid = true;
            const username = document.getElementById('regUsername');
            const email = document.getElementById('regEmail');
            const password = document.getElementById('regPassword');
            const confirmPassword = document.getElementById('regConfirmPassword');
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—à–∏–±–æ–∫
            const errorElements = document.querySelectorAll('#register-form .error-message');
            errorElements.forEach(el => el.textContent = '');
            
            const inputElements = document.querySelectorAll('#register-form .form-control');
            inputElements.forEach(el => el.classList.remove('input-error'));
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (!username.value.trim()) {
                document.getElementById('regUsername-error').textContent = '–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
                username.classList.add('input-error');
                isValid = false;
            } else if (username.value.length < 3) {
                document.getElementById('regUsername-error').textContent = '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤';
                username.classList.add('input-error');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ email
            if (!email.value.trim()) {
                document.getElementById('regEmail-error').textContent = '–í–≤–µ–¥–∏—Ç–µ email';
                email.classList.add('input-error');
                isValid = false;
            } else if (!isValidEmail(email.value)) {
                document.getElementById('regEmail-error').textContent = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email';
                email.classList.add('input-error');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
            if (!password.value) {
                document.getElementById('regPassword-error').textContent = '–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å';
                password.classList.add('input-error');
                isValid = false;
            } else if (password.value.length < 6) {
                document.getElementById('regPassword-error').textContent = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤';
                password.classList.add('input-error');
                isValid = false;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
            if (!confirmPassword.value) {
                document.getElementById('regConfirmPassword-error').textContent = '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å';
                confirmPassword.classList.add('input-error');
                isValid = false;
            } else if (password.value !== confirmPassword.value) {
                document.getElementById('regConfirmPassword-error').textContent = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                confirmPassword.classList.add('input-error');
                isValid = false;
            }
            
            if (isValid) {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã AJAX-–∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
                document.getElementById('register-success').style.display = 'block';
            }
        });
        
        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
    </script>
</body>
</html>
